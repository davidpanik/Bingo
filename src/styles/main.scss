// ====== IMPORTS ===========================================================

@import '_h5bp';
@import '_meyer-reset';

@import 'variables';
@import 'fonts';



// ====== MIXINS ===========================================================

@mixin clear() {
	&:before, &:after {
		content: "\0020";
		display: block;
		height: 0;
		overflow: hidden;
	}
	&:after {
		clear: both;
	}
}

@mixin transition($args...) {
	-webkit-transition: $args;
	-moz-transition: $args;
	-ms-transition: $args;
	-o-transition: $args;
	transition: $args;
}

@mixin colour($hex) {
	background-color: $hex;
	.cell {
		color: darken($hex, 10%);
	}
	border-color: darken($hex, 20%);
}

@mixin fullScreen() {
	overflow: hidden;
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	width: 100%;
	height: 100%;
}

@mixin thickShadow() {
	text-shadow:
		3px 1px 0px rgba(0, 0, 0, 0.7),
		4px 2px 0px rgba(0, 0, 0, 0.7),
		5px 3px 0px rgba(0, 0, 0, 0.7),
		7px 4px 0px rgba(0, 0, 0, 0.7),
		8px 5px 0px rgba(0, 0, 0, 0.7),
		10px 6px 0px rgba(0, 0, 0, 0.7),
		11px 7px 0px rgba(0, 0, 0, 0.7),
		13px 8px 0px rgba(0, 0, 0, 0.7),
		14px 9px 0px rgba(0, 0, 0, 0.7),
		16px 10px 0px rgba(0, 0, 0, 0.7),
		17px 11px 0px rgba(0, 0, 0, 0.7);
}


// ====== COMMON ===========================================================


html,
body {
	overflow: hidden;
}

a, a:link, a:visited, a:hover, a:active {

}

body {
	text-align: center;

	#content {
		@include fullScreen();
		background-color: #000;

		.colour_1  { @include colour(#45AAA8); }
		.colour_2  { @include colour(#43AA7A); }
		.colour_3  { @include colour(#AAAA46); }
		.colour_4  { @include colour(#A94456); }
		.colour_5  { @include colour(#4477AA); }
		.colour_6  { @include colour(#AA7646); }
		.colour_7  { @include colour(#AB4388); }
		.colour_8  { @include colour(#79AADB); }
		.colour_9  { @include colour(#77CBCC); }
		.colour_10 { @include colour(#DEDD77); }
		.colour_11 { @include colour(#DF7689); }
		.colour_12 { @include colour(#CB9BB8); }
		.colour_13 { @include colour(#DBAB77); }
		.colour_14 { @include colour(#89CCAA); }
		.colour_15 { @include colour(#0F4479); }
		.colour_16 { @include colour(#127775); }
		.colour_17 { @include colour(#787612); }
		.colour_18 { @include colour(#771023); }
		.colour_19 { @include colour(#771057); }
		.colour_20 { @include colour(#79440F); }
		.colour_21 { @include colour(#107747); }

		&.screen {
			canvas {
				@include fullScreen();
				background-color: #7F3300;
			}

			section {
				@include fullScreen();
			}

			.home {
				@include fullScreen();
				display: flex;
				justify-content: center;
				align-items: center;

				h1 {
					.first {
						font-family: 'Alfa Slab One', cursive;
					}

					.second {
						@include thickShadow();
						text-transform: uppercase;
						color: #FFF;
						font-family: 'Alfa Slab One', cursive;
						font-size: 250px;
						letter-spacing: 0.05em;
					}
				}
			}

			.caller {
				@include fullScreen();
				display: flex;
				justify-content: center;
				align-items: center;

				.current {
					@include thickShadow();
					color: #FFF;
					font-family: 'Alfa Slab One', cursive;
					font-size: 170px;
					letter-spacing: 0.05em;

					&.bounceInDown  { animation: 1s bounceInDown; }
					&.bounceInUp    { animation: 1s bounceInUp; }
					&.bounceInLeft  { animation: 1s bounceInLeft; }
					&.bounceInRight { animation: 1s bounceInRight; }
					&.flipInX       { animation: 1s flipInX; }
					&.flipInY       { animation: 1s flipInY; }
				}
			}

			.players {
				position: fixed;
				bottom: 0;
				left: 0;
				right: 0;

				display: flex;
				justify-content: center;

				.player {
					height: 120px;
					padding: 10px 10px 20px 10px;
					margin: 20px 10px -5px 10px;
					background-image: url(/images/noise.png);
					border-width: 10px;
					border-style: solid;
					border-radius: 25px 25px 0 0;
					border-bottom: 0;
					box-shadow: 0px 0px 30px 2px rgba(0, 0, 0, 0.75);
					color: #FFF;
					font-family: 'Alfa Slab One', cursive;
					// animation: bounceUp 2s;

					&.nearlyBingo {
 						animation: slightShake 0.4s infinite;
					}

					&.bingoAvailable {
						animation: strongShake 0.3s infinite;
					}

					img {
						border-radius: 12px;
						width: 64px;
						height: 64px;
					}

					.score {
						font-size: 45px;
						padding: 12px;
						text-shadow: 9px 5px 0px rgba(0, 0, 0, 0.5);
					}
				}
			}
		}

		&.controller {
			> div {
				@include fullScreen();
				background-image: url(/images/noise.png);
			}

			section {
				padding: 60px 30px 0 30px;

				display: flex;
				justify-content: center;
			}

			.card {
				display: flex;
				flex-flow: row wrap;
				justify-content: center;
				background-color: rgba(0, 0, 0, 0.5);
				border-radius: 6%;
				width: 81vw;
				padding: 2vw 0vw;
				animation: fadeIn 2s;

				.cell {
					width: 13vw;
					height: 13vw;
					line-height: 14vw;
					font-size: 7.5vw;
					border: none;
					margin: 1.1vw;
					font-family: 'Alfa Slab One', cursive;
					background-color: transparent;

					perspective: 1000;

					&.marked {
						cursor: default;

						.flipper {
							transform: rotateY(180deg);
						}
					}

					.flipper {
						transition: 0.6s;
						transform-style: preserve-3d;
						position: relative;

						.front, .back {
							border-radius: 25%;
							width: 13vw;
							height: 13vw;
							backface-visibility: hidden;
							position: absolute;
							top: 0;
							left: 0;
							background-color: #FFF;
						}

						.front {
							z-index: 2;
							transform: rotateY(0deg);
						}

						.back {
							transform: rotateY(180deg);
							opacity: 0.5;
						}
					}
				}
			}
		}
	}
}

a.button {
	margin: 1em;
	padding: 0.8em;
	font-size: 12vw;
	font-weight: bold;
	letter-spacing: 0;
	text-decoration: none;
	cursor: pointer;
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;
	border-radius: 30px;
	border: 6px solid #000;
	background: #EEE;
	color: #000;
	text-transform: uppercase;
	font-family: 'Slabo 27px', serif;
	box-shadow: inset 0px 0px 25px 10px rgba(0,0,0,0.3), 7px 7px 16px 5px rgba(0,0,0,0.3);
	transition: box-shadow 0.2s, background 0.2s;

	&:link, &:visited, &:hover, &:active {
		color: #000;
	}

	&:hover {
		color: #000;
		background: #E5E5E5;
		box-shadow: inset 0px 0px 25px 10px rgba(0,0,0,0.3), 4px 4px 12px 4px rgba(0,0,0,0.3);
	}

	&.bingo {
		animation: 1s ease-out infinite alternate glow, 1s tada;
	}
}


@keyframes bounceUp {
	0%   { transform: translateY(300px); }
	50%  { transform: translateY(-30px); }
	60%  { transform: translateY(30px); }
	70%  { transform: translateY(-20px); }
	80% { transform: translateY(20px); }
	90%  { transform: translateY(-10px); }
	95% { transform: translateY(10px); }
	100% { transform: translateY( 0px); }
}

@keyframes slightShake {
	0%   { transform: translateX( 0px); }
	25%  { transform: translateX(-1px) rotate(-1deg); }
	50%  { transform: translateX( 0px); }
	75%  { transform: translateX( 1px) rotate( 1deg); }
	100% { transform: translateX( 0px); }
}

@keyframes strongShake {
	0%   { transform: translateX( 0px); }
	25%  { transform: translateX(-4px) rotate(-3deg); }
	50%  { transform: translateX( 0px); }
	75%  { transform: translateX( 4px) rotate( 3deg); }
	100% { transform: translateX( 0px); }
}

@keyframes fadeIn {
	0%   { opacity: 0; }
	100% { opacity: 1; }
}

@keyframes glow {
	from { color: #000; text-shadow: 0 0 0px rgba(255, 0, 0, 0); }
	to { color: #F00; text-shadow: 0 0 20px rgba(255, 0, 0, 0.8); }
}

@keyframes tada {
	0% { transform: scale3d(0.1, 0.1, 0.1); }
	30%, 50%, 70%, 90% { transform: scale3d(1.2, 1.2, 1.2) rotate3d(0, 0, 1, 4deg); }
	40%, 60%, 80% { transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -4deg); }
	100% { transform: scale3d(1, 1, 1); }
}

@keyframes bounceInDown {
	from, 60%, 75%, 90%, to { animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000); }
	0% { opacity: 0; transform: translate3d(0, -3000px, 0); }
	60% { opacity: 1; transform: translate3d(0, 25px, 0); }
	75% { transform: translate3d(0, -10px, 0); }
	90% { transform: translate3d(0, 5px, 0); }
	to { transform: none; }
}

@keyframes bounceInUp {
	from, 60%, 75%, 90%, to { animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000); }
	from { opacity: 0; transform: translate3d(0, 3000px, 0); }
	60% { opacity: 1; transform: translate3d(0, -20px, 0); }
	75% { transform: translate3d(0, 10px, 0); }
	90% { transform: translate3d(0, -5px, 0); }
	to { transform: translate3d(0, 0, 0); }
}

@keyframes bounceInLeft {
	from, 60%, 75%, 90%, to { animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000); }
	0% { opacity: 0; transform: translate3d(-3000px, 0, 0); }
	60% { opacity: 1; transform: translate3d(25px, 0, 0); }
	75% { transform: translate3d(-10px, 0, 0); }
	90% { transform: translate3d(5px, 0, 0); }
	to { transform: none; }
}

@keyframes bounceInRight {
	from, 60%, 75%, 90%, to { animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000); }
	from { opacity: 0;transform: translate3d(3000px, 0, 0); }
	60% { opacity: 1; transform: translate3d(-25px, 0, 0); }
	75% { transform: translate3d(10px, 0, 0); }
	90% { transform: translate3d(-5px, 0, 0); }
	to { transform: none; }
}

@keyframes flipInX {
	from { transform: perspective(400px) rotate3d(1, 0, 0, 90deg); animation-timing-function: ease-in; opacity: 0; }
	40% { transform: perspective(400px) rotate3d(1, 0, 0, -20deg); animation-timing-function: ease-in; }
	60% { transform: perspective(400px) rotate3d(1, 0, 0, 10deg); opacity: 1; }
	80% { transform: perspective(400px) rotate3d(1, 0, 0, -5deg); }
	to { transform: perspective(400px); }
}

@keyframes flipInY {
	from { transform: perspective(400px) rotate3d(0, 1, 0, 90deg); animation-timing-function: ease-in; opacity: 0; }
	40% { transform: perspective(400px) rotate3d(0, 1, 0, -20deg); animation-timing-function: ease-in; }
	60% { transform: perspective(400px) rotate3d(0, 1, 0, 10deg); opacity: 1; }
	80% { transform: perspective(400px) rotate3d(0, 1, 0, -5deg); }
	to { transform: perspective(400px); }
}

@import 'mobile';